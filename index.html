<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Julie's Bakeshop - Financial Dashboard</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700;800&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <!-- Data Refresh Indicator -->
    <div class="data-refresh-indicator" id="refresh-indicator">
        <span class="loading-spinner"></span>
        <span>Syncing data...</span>
    </div>

    <div class="dashboard">
        <!-- Header -->
        <header class="header">
            <div class="logo-container">
                <div class="logo">
                    <span class="logo-icon">ü•ê</span>
                    <div class="logo-text">
                        <span class="logo-julies">JULIE'S</span>
                        <span class="logo-bakeshop">BAKESHOP</span>
                    </div>
                </div>
                <span class="sparkle">‚ú¶</span>
            </div>
            <div class="header-buttons">
                <button class="logout-btn" id="logout-btn" title="Back to Login">
                    <svg class="logout-icon" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4M16 17l5-5-5-5M21 12H9"/>
                    </svg>
                    <span>Logout</span>
                </button>
                <button class="refresh-btn" id="refresh-btn" title="Refresh Data">
                    <svg class="refresh-icon" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M23 4v6h-6M1 20v-6h6M3.51 9a9 9 0 0 1 14.85-3.36L23 10M1 14l4.64 4.36A9 9 0 0 0 20.49 15"/>
                    </svg>
                    <span>Refresh</span>
                </button>
            </div>
            <div class="datetime-container">
                <div class="time" id="current-time">10:55:29 AM</div>
                <div class="date" id="current-date">Sunday, January 18, 2026</div>
            </div>
        </header>

        <!-- Greeting -->
        <div class="greeting">
            <h1><span class="greeting-name">Hello, Jeanvie!</span> Here are your financial details.</h1>
        </div>

        <!-- Stats Cards -->
        <div class="stats-container">
            <div class="stat-card">
                <div class="stat-label">Total Balance</div>
                <div class="stat-value" id="total-balance">‚Ç±0</div>
                <div class="stat-change positive" id="balance-change">
                    <span class="change-icon">‚ú¶</span>
                    <span>Loading...</span>
                </div>
                <div class="card-diamond top-left"></div>
                <div class="card-diamond bottom-right"></div>
            </div>
            <div class="stat-card">
                <div class="stat-label">This Week</div>
                <div class="stat-value" id="this-week">‚Ç±0</div>
                <div class="stat-change positive" id="week-change">
                    <span class="change-icon">‚ú¶</span>
                    <span>Loading...</span>
                </div>
                <div class="card-diamond top-left"></div>
                <div class="card-diamond bottom-right"></div>
            </div>
            <div class="stat-card">
                <div class="stat-label">This Month</div>
                <div class="stat-value" id="this-month">‚Ç±0</div>
                <div class="stat-change positive" id="month-change">
                    <span class="change-icon">‚ú¶</span>
                    <span>Loading...</span>
                </div>
                <div class="card-diamond top-left"></div>
                <div class="card-diamond bottom-right"></div>
            </div>
            <div class="stat-card">
                <div class="stat-label">This Year</div>
                <div class="stat-value large" id="this-year">‚Ç±0</div>
                <div class="stat-change positive" id="year-change">
                    <span class="change-icon">‚ú¶</span>
                    <span>Loading...</span>
                </div>
                <div class="card-diamond top-left"></div>
                <div class="card-diamond bottom-right"></div>
            </div>
        </div>

        <!-- Main Content -->
        <div class="main-content">
            <!-- Recent Transactions -->
            <div class="transactions-section">
                <h2 class="section-title">Recent Transactions</h2>
                <div class="filter-tabs">
                    <button class="filter-tab active">All</button>
                    <button class="filter-tab">Food & Dining</button>
                    <button class="filter-tab">Shopping</button>
                    <button class="view-all-btn" id="view-all-btn">View All</button>
                </div>
                <div class="transactions-table">
                    <div class="table-header">
                        <span>Date</span>
                        <span>Cluster</span>
                        <span>Expense Description</span>
                        <span>Account Name</span>
                        <span>Submitted</span>
                        <span>Amount</span>
                    </div>
                    <div id="transactions-container">
                        <!-- Transactions will be loaded dynamically from Google Sheets -->
                        <div class="loading-message">Loading transactions...</div>
                    </div>
                </div>
                <div class="button-group">
                    <button class="set-budget-btn">
                        <span class="budget-icon">üìÅ</span>
                        Set Budget
                    </button>
                    <button class="add-pcf-btn" id="add-pcf-btn">
                        <span class="pcf-icon">‚ûï</span>
                        Add PCF
                    </button>
                </div>
            </div>

            <!-- Right Panel -->
            <div class="right-panel">
                <!-- Breakdown Chart -->
                <div class="breakdown-section">
                    <h2 class="section-title">Breakdown</h2>
                    <div class="breakdown-content">
                        <div class="donut-chart-container">
                            <canvas id="donutChart" width="180" height="180"></canvas>
                        </div>
                        <div class="breakdown-legend">
                            <div class="legend-item">
                                <span class="legend-color" style="background: #F5A623;"></span>
                                <span class="legend-value">‚Ç±12,000</span>
                                <span class="legend-label">Food & Dining</span>
                            </div>
                            <div class="legend-item">
                                <span class="legend-color" style="background: #E8721C;"></span>
                                <span class="legend-value">‚Ç±6,500</span>
                                <span class="legend-label">Shopping</span>
                            </div>
                            <div class="legend-item">
                                <span class="legend-color" style="background: #D0021B;"></span>
                                <span class="legend-value">‚Ç±4,000</span>
                                <span class="legend-label">Transport</span>
                            </div>
                            <div class="legend-item">
                                <span class="legend-color" style="background: #8B0000;"></span>
                                <span class="legend-value">‚Ç±3,000</span>
                                <span class="legend-label">Bills & Utilities</span>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Spending Trend -->
                <div class="trend-section">
                    <h2 class="section-title">Spending Trend</h2>
                    <div class="trend-chart">
                        <div class="trend-value">‚Ç±23,500</div>
                        <canvas id="trendChart" width="300" height="80"></canvas>
                        <div class="trend-labels">
                            <span>Mar</span>
                            <span>Apri</span>
                            <span>May</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- PCF Modal -->
    <div class="modal-overlay" id="pcf-modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2 class="modal-title">PCF</h2>
                <p class="modal-subtitle">PCF DAILY BLUMENTRITT</p>
                <button class="modal-close" id="pcf-modal-close">&times;</button>
            </div>
            <div class="modal-body">
                <form id="pcf-form">
                    <div class="form-group">
                        <label class="form-label">date</label>
                        <input type="date" class="form-input" id="pcf-date" required>
                    </div>

                    <div class="form-group">
                        <label class="form-label">Cluster</label>
                        <input type="text" class="form-input" id="pcf-cluster" placeholder="">
                    </div>

                    <div class="form-group">
                        <label class="form-label">Expense Description</label>
                        <input type="text" class="form-input" id="pcf-expense-desc" placeholder="">
                    </div>

                    <div class="form-group">
                        <label class="form-label">Cost center</label>
                        <select class="form-select" id="pcf-cost-center">
                            <option value="">Select an option ...</option>
                            <option value="jbs-22348-blumentrit">Jbs 22348 blumentrit</option>
                            <option value="jbs-23582-deca">Jbs 23582 deca</option>
                            <option value="jbs-24723-walter">Jbs 24723 walter</option>
                            <option value="jbs-23974-gagalangin">Jbs 23974 gagalangin</option>
                            <option value="jbs-22755-fajardo">Jbs 22755 Fajardo</option>
                        </select>
                    </div>

                    <div class="form-group">
                        <label class="form-label">Vendor</label>
                        <input type="text" class="form-input" id="pcf-vendor" placeholder="">
                    </div>

                    <div class="form-group">
                        <label class="form-label">Tin#</label>
                        <input type="text" class="form-input" id="pcf-tin" placeholder="">
                    </div>

                    <div class="form-group">
                        <label class="form-label">OR/ si#</label>
                        <input type="text" class="form-input" id="pcf-or-si" placeholder="">
                    </div>

                    <div class="form-group">
                        <label class="form-label">AMOUNT WITH VAT</label>
                        <input type="number" step="0.01" class="form-input" id="pcf-amount-vat" placeholder="">
                    </div>

                    <div class="form-group">
                        <label class="form-label">EXvat</label>
                        <input type="number" step="0.01" class="form-input" id="pcf-exvat" placeholder="">
                    </div>

                    <div class="form-group">
                        <label class="form-label">Account name</label>
                        <select class="form-select" id="pcf-account-name">
                            <option value="">Select an option ...</option>
                            <option value="bakery-supplies-consumable">Bakery Supplies - Consumable Items / 6511000101</option>
                            <option value="bakery-supplies-durable">Bakery Supplies - Durable Items / 6511000102</option>
                            <option value="business-licenses">Business and Other Licenses / 7711000102</option>
                            <option value="cleaning-supplies">Cleaning Supplies / 6221000104</option>
                            <option value="cos-perishable">COS - Perishable Ingredients / 5111000102</option>
                            <option value="donations">Donations & Contributions / 7811000101</option>
                            <option value="equipment-maint">Equipment Maint and Repair / 6911000101</option>
                            <option value="facility-maint">Facility Maint and Repair / 6211000102</option>
                            <option value="insurance">Insurance Expenses / 7711000101</option>
                            <option value="legal-fees">Legal Fees / 6311000105</option>
                            <option value="local-transport">Local Transportation / 6311000105</option>
                            <option value="furniture-maint">Maint and Repair - Furniture and Fixtures / 7211000102</option>
                            <option value="medical-direct">Medical & Hospitalization Direct Labor / 5122000106</option>
                            <option value="medical-indirect">Medical & Hospitalization Indirect Labor / 6121000106</option>
                            <option value="meeting-expenses">Meeting Expenses / 7141000101</option>
                            <option value="mobile-data">Mobile Data Connectivity / 7121000104</option>
                            <option value="photocopying">Photocopying / 7111000102</option>
                            <option value="printing">Printing / 7111000101</option>
                            <option value="stationary">Stationary and Supplies / 7112000101</option>
                        </select>
                    </div>

                    <div class="form-group">
                        <label class="form-label">VAT</label>
                        <input type="number" step="0.01" class="form-input" id="pcf-vat" placeholder="">
                    </div>

                    <button type="submit" class="form-submit-btn">Submit</button>
                </form>
            </div>
        </div>
    </div>

    <!-- View All Transactions Modal -->
    <div class="modal-overlay" id="transactions-modal">
        <div class="modal-content transactions-modal-content">
            <div class="modal-header">
                <h2 class="modal-title">All Transactions</h2>
                <p class="modal-subtitle">Complete transaction history from Google Sheets</p>
                <button class="modal-close" id="transactions-modal-close">&times;</button>
            </div>
            <div class="modal-body">
                <div class="transactions-modal-table">
                    <div class="transactions-modal-header">
                        <span>Date</span>
                        <span>Cluster</span>
                        <span>Expense Description</span>
                        <span>Account Name</span>
                        <span>Vendor</span>
                        <span>Amount</span>
                    </div>
                    <div class="transactions-modal-body" id="all-transactions-container">
                        <div class="loading-message">Loading all transactions...</div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Chatbot -->
    <div class="chatbot-container" id="chatbot">
        <div class="chatbot-toggle" id="chatbot-toggle">
            <img src="julies-logo.png" alt="Julie's Assistant" class="chatbot-avatar">
            <span class="chatbot-badge">1</span>
        </div>
        <div class="chatbot-window" id="chatbot-window">
            <div class="chatbot-header">
                <img src="julies-logo.png" alt="Julie's" class="chatbot-header-avatar">
                <div class="chatbot-header-info">
                    <span class="chatbot-name">Julie's Assistant</span>
                    <span class="chatbot-status">Online</span>
                </div>
                <button class="chatbot-close" id="chatbot-close">&times;</button>
            </div>
            <div class="chatbot-messages" id="chatbot-messages">
                <div class="chat-message bot">
                    <img src="julies-logo.png" alt="Julie's" class="message-avatar">
                    <div class="message-content">
                        <p>Hi Jeanvie! üëã Welcome to Julie's Bakeshop! How can I help you today?</p>
                        <span class="message-time">Just now</span>
                    </div>
                </div>
            </div>
            <div class="chatbot-suggestions">
                <button class="suggestion-btn" data-message="Check my balance">üí∞ Check Balance</button>
                <button class="suggestion-btn" data-message="Show recent transactions">üìã Transactions</button>
                <button class="suggestion-btn" data-message="Help with budget">üìä Budget Help</button>
            </div>
            <div class="chatbot-input-container">
                <input type="text" class="chatbot-input" id="chatbot-input" placeholder="Type your message...">
                <button class="chatbot-send" id="chatbot-send">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor">
                        <path d="M2.01 21L23 12 2.01 3 2 10l15 2-15 2z"/>
                    </svg>
                </button>
            </div>
        </div>
    </div>

    <script src="script.js"></script>
</body>
</html>
